@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700;800&display=swap');

@import url("https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap");

@import url("https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&display=swap");

@import url("https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;700&display=swap");

@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");

@import url("https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&display=swap");

@import url("https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap");

@layer base {
  :root {
    /* Educational Navy Theme */
    --background: 0 0% 100%;
    --foreground: 265 4% 12.9%;

    --card: 0 0% 100%;
    --card-foreground: 265 4% 12.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 265 4% 12.9%;

    /* Deep Navy Blue - Trust & Education */
    --primary: 266 4% 20.8%;
    --primary-foreground: 248 0.3% 98.4%;

    /* Light Blue Secondary */
    --secondary: 248 0.7% 96.8%;
    --secondary-foreground: 266 4% 20.8%;

    --muted: 248 0.7% 96.8%;
    --muted-foreground: 257 4.6% 55.4%;

    /* Soft Blue Accent */
    --accent: 248 0.7% 96.8%;
    --accent-foreground: 266 4% 20.8%;

    /* Status Colors */
    --destructive: 27 24.5% 57.7%;
    --destructive-foreground: 0 0% 100%;

    /* Success Green - Present */
    --success: 160 84% 39%;
    --success-foreground: 0 0% 100%;

    /* Warning Amber - Late */
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 100%;

    /* Info Blue */
    --info: 199 89% 48%;
    --info-foreground: 0 0% 100%;

    --border: 256 1.3% 92.9%;
    --input: 256 1.3% 92.9%;
    --ring: 257 4% 70.4%;

    --radius: 0.375rem;

    /* Custom Gradients */
    --gradient-primary: linear-gradient(135deg, hsl(213 56% 24%) 0%, hsl(213 56% 34%) 100%);
    --gradient-success: linear-gradient(135deg, hsl(160 84% 39%) 0%, hsl(160 84% 49%) 100%);
    --gradient-warning: linear-gradient(135deg, hsl(38 92% 50%) 0%, hsl(38 92% 60%) 100%);
    --gradient-hero: linear-gradient(135deg, hsl(213 56% 20%) 0%, hsl(220 60% 30%) 50%, hsl(213 56% 25%) 100%);
    --gradient-card: linear-gradient(180deg, hsl(0 0% 100%) 0%, hsl(210 40% 98%) 100%);
    --gradient-monitor: linear-gradient(180deg, hsl(215 50% 8%) 0%, hsl(215 50% 12%) 100%);

    /* Shadows */
    --shadow-sm: 0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 1px 2px -1px hsl(0 0% 0% / 0.1);
    --shadow-md: 0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 2px 4px -1px hsl(0 0% 0% / 0.1);
    --shadow-lg: 0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 4px 6px -1px hsl(0 0% 0% / 0.1);
    --shadow-xl: 0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 8px 10px -1px hsl(0 0% 0% / 0.1);
    --shadow-glow: 0 0 20px hsl(213 56% 24% / 0.3);
    --shadow-success-glow: 0 0 30px hsl(160 84% 39% / 0.4);

    /* Sidebar */
    --sidebar-background: 213 56% 24%;
    --sidebar-foreground: 0 0% 100%;
    --sidebar-primary: 266 4% 20.8%;
    --sidebar-primary-foreground: 248 0.3% 98.4%;
    --sidebar-accent: 248 0.7% 96.8%;
    --sidebar-accent-foreground: 266 4% 20.8%;
    --sidebar-border: 256 1.3% 92.9%;
    --sidebar-ring: 257 4% 70.4%;
    --chart-1: 41 22.2% 64.6%;
    --chart-2: 185 11.8% 60%;
    --chart-3: 227 7% 39.8%;
    --chart-4: 84 18.9% 82.8%;
    --chart-5: 70 18.8% 76.9%;
    --sidebar: 248 0.3% 98.4%;
    --font-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
    --font-serif: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    --shadow-2xs: 0 1px 3px 0px hsl(0 0% 0% / 0.05);
    --shadow-xs: 0 1px 3px 0px hsl(0 0% 0% / 0.05);
    --shadow: 0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 1px 2px -1px hsl(0 0% 0% / 0.1);
    --shadow-2xl: 0 1px 3px 0px hsl(0 0% 0% / 0.25);
    --tracking-normal: 0em;
    --spacing: 0.25rem;
    
    /* Website CMS Dynamic Colors - Can be overridden via JS */
    --website-primary: #4B0082;
    --website-primary-light: #6B2D8B;
    --website-secondary: #00D4FF;
    --website-cta: #00D4FF;
    --website-btn-secondary: #4B0082;
    --website-dark: #0D0221;
    --website-dark-light: #1a0a2e;
  }

  .dark {
    --background: 0 0% 15%;
    --foreground: 248 0.3% 98.4%;

    --card: 266 4% 20.8%;
    --card-foreground: 248 0.3% 98.4%;

    --popover: 266 4% 20.8%;
    --popover-foreground: 248 0.3% 98.4%;

    --primary: 256 1.3% 92.9%;
    --primary-foreground: 266 4% 20.8%;

    --secondary: 260 4.1% 27.9%;
    --secondary-foreground: 248 0.3% 98.4%;

    --muted: 260 4.1% 27.9%;
    --muted-foreground: 257 4% 70.4%;

    --accent: 260 4.1% 27.9%;
    --accent-foreground: 248 0.3% 98.4%;

    --destructive: 22 19.1% 70.4%;
    --destructive-foreground: 248 0.3% 98.4%;

    --border: 0 0% 100% / 10%;
    --input: 0 0% 100% / 15%;
    --ring: 264 2.7% 55.1%;

    --sidebar-background: 215 50% 10%;
    --sidebar-foreground: 248 0.3% 98.4%;
    --sidebar-primary: 264 24.3% 48.8%;
    --sidebar-primary-foreground: 248 0.3% 98.4%;
    --sidebar-accent: 260 4.1% 27.9%;
    --sidebar-accent-foreground: 248 0.3% 98.4%;
    --sidebar-border: 0 0% 100% / 10%;
    --sidebar-ring: 264 2.7% 55.1%;
    --chart-1: 264 24.3% 48.8%;
    --chart-2: 162 17% 69.6%;
    --chart-3: 70 18.8% 76.9%;
    --chart-4: 304 26.5% 62.7%;
    --chart-5: 16 24.6% 64.5%;
    --sidebar: 266 4% 20.8%;
    --shadow-2xs: 0 1px 3px 0px hsl(0 0% 0% / 0.05);
    --shadow-xs: 0 1px 3px 0px hsl(0 0% 0% / 0.05);
    --shadow-sm: 0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 1px 2px -1px hsl(0 0% 0% / 0.1);
    --shadow: 0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 1px 2px -1px hsl(0 0% 0% / 0.1);
    --shadow-md: 0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 2px 4px -1px hsl(0 0% 0% / 0.1);
    --shadow-lg: 0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 4px 6px -1px hsl(0 0% 0% / 0.1);
    --shadow-xl: 0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 8px 10px -1px hsl(0 0% 0% / 0.1);
    --shadow-2xl: 0 1px 3px 0px hsl(0 0% 0% / 0.25);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Inter', 'Hind Siliguri', system-ui, sans-serif;
  }

  /* Bengali Typography */
  .font-bengali {
    font-family: 'Hind Siliguri', 'Noto Sans Bengali', sans-serif;
  }

  .font-display {
    font-family: 'Inter', sans-serif;
    font-weight: 700;
  }
}

@layer components {
  /* Card Variants */
  .card-elevated {
    @apply bg-card rounded-xl border border-border/50;
    box-shadow: var(--shadow-lg);
    background: var(--gradient-card);
  }

  .card-stat {
    @apply relative overflow-hidden rounded-xl p-6 transition-all duration-300;
    box-shadow: var(--shadow-md);
  }

  .card-stat:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-xl);
  }

  /* Status Badges */
  .badge-present {
    @apply inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium;
    background: hsl(var(--success) / 0.15);
    color: hsl(var(--success));
  }

  .badge-late {
    @apply inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium;
    background: hsl(var(--warning) / 0.15);
    color: hsl(var(--warning));
  }

  .badge-absent {
    @apply inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium;
    background: hsl(var(--destructive) / 0.15);
    color: hsl(var(--destructive));
  }

  /* Monitor Display Styles */
  .monitor-display {
    background: var(--gradient-monitor);
    @apply min-h-screen text-white;
  }

  .monitor-card {
    @apply bg-white/5 backdrop-blur-sm rounded-2xl border border-white/10 p-6;
    animation: fadeInUp 0.5s ease-out;
  }

  .monitor-card-success {
    @apply monitor-card;
    border-color: hsl(var(--success) / 0.5);
    box-shadow: 0 0 30px hsl(var(--success) / 0.2);
  }

  .monitor-card-warning {
    @apply monitor-card;
    border-color: hsl(var(--warning) / 0.5);
    box-shadow: 0 0 30px hsl(var(--warning) / 0.2);
  }

  /* Form Styles */
  .form-section {
    @apply bg-card rounded-xl border border-border p-6 space-y-6;
    box-shadow: var(--shadow-sm);
  }

  .form-label {
    @apply text-sm font-medium text-foreground mb-2 flex items-center gap-2;
  }

  .form-label-required::after {
    content: '*';
    @apply text-destructive ml-0.5;
  }

  /* Photo Upload Area */
  .photo-upload-area {
    @apply relative w-40 h-48 rounded-xl border-2 border-dashed border-border bg-muted/30 flex flex-col items-center justify-center gap-3 cursor-pointer transition-all duration-300;
  }

  .photo-upload-area:hover {
    @apply border-primary bg-primary/5;
  }

  /* Sidebar Navigation */
  .nav-item {
    @apply flex items-center gap-3 px-4 py-3 rounded-lg text-sidebar-foreground/80 transition-all duration-200;
  }

  .nav-item:hover {
    @apply bg-sidebar-accent text-sidebar-foreground;
  }

  .nav-item.active {
    @apply bg-white/10 text-sidebar-foreground font-medium;
  }

  /* Table Styles */
  .data-table {
    @apply w-full border-collapse;
  }

  .data-table th {
    @apply px-4 py-3 text-left text-sm font-semibold text-muted-foreground bg-muted/50 border-b border-border;
  }

  .data-table td {
    @apply px-4 py-3 text-sm border-b border-border/50;
  }

  .data-table tr:hover td {
    @apply bg-muted/30;
  }
}

@layer utilities {
  /* Gradient Text */
  .text-gradient {
    @apply bg-clip-text text-transparent;
    background: var(--gradient-primary);
  }

  /* Pulse Animation for Live Indicator */
  .pulse-live {
    @apply relative;
  }

  .pulse-live::before {
    content: '';
    @apply absolute -left-3 top-1/2 -translate-y-1/2 w-2 h-2 rounded-full;
    background: hsl(var(--success));
    animation: pulse 2s infinite;
  }

  /* Animations */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes pulse {
    0%, 100% {
      opacity: 1;
      transform: translateY(-50%) scale(1);
    }
    50% {
      opacity: 0.5;
      transform: translateY(-50%) scale(1.5);
    }
  }

  @keyframes slideIn {
    from {
      opacity: 0;
      transform: translateX(-20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes countUp {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in-up {
    animation: fadeInUp 0.5s ease-out;
  }

  .animate-slide-in {
    animation: slideIn 0.4s ease-out;
  }

  .animate-count-up {
    animation: countUp 0.6s ease-out;
  }

  /* Stagger Children */
  .stagger-children > * {
    animation: fadeInUp 0.5s ease-out backwards;
  }

  .stagger-children > *:nth-child(1) { animation-delay: 0ms; }
  .stagger-children > *:nth-child(2) { animation-delay: 100ms; }
  .stagger-children > *:nth-child(3) { animation-delay: 200ms; }
  .stagger-children > *:nth-child(4) { animation-delay: 300ms; }
  .stagger-children > *:nth-child(5) { animation-delay: 400ms; }
  .stagger-children > *:nth-child(6) { animation-delay: 500ms; }
}

/* Modern Sidebar Scrollbar */
.sidebar-scroll::-webkit-scrollbar {
  width: 4px;
}

.sidebar-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.sidebar-scroll::-webkit-scrollbar-thumb {
  background: hsl(0 0% 100% / 0.2);
  border-radius: 4px;
}

.sidebar-scroll::-webkit-scrollbar-thumb:hover {
  background: hsl(0 0% 100% / 0.4);
}

/* Firefox */
.sidebar-scroll {
  scrollbar-width: thin;
  scrollbar-color: hsl(0 0% 100% / 0.2) transparent;
}

/* News Scroller Animation - scrolls 33.33% for tripled content */
@keyframes news-scroll {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-33.33%);
  }
}

.animate-news-scroll {
  animation: news-scroll linear infinite;
}

/* Monitor Display - Fixed viewport height */
.monitor-display {
  @apply h-screen overflow-hidden;
}

/* Video overlay transition */
.video-overlay-enter {
  opacity: 0;
  transform: scale(1.1);
}

.video-overlay-enter-active {
  opacity: 1;
  transform: scale(1);
  transition: opacity 300ms, transform 300ms;
}

/* ========================================
   UNIVERSAL PRINT ENGINE — Professional ERP Grade
   All Reports: Attendance, Fee, Summaries
   A4 Paper: 210mm × 297mm
   ======================================== */

/* Print-only utility — hidden on screen */
.print-only {
  display: none !important;
}

@media print {
  /* ===== SHOW / HIDE ===== */
  .print-only {
    display: block !important;
  }

  .print-only-flex {
    display: flex !important;
  }

  .no-print,
  .no-print *,
  header:not(.erp-report-header),
  nav,
  aside,
  .sidebar,
  button:not(.print-visible),
  [data-radix-popper-content-wrapper],
  [data-radix-dialog-overlay],
  [role="dialog"]:not(.receipt-print-area),
  .success-dialog {
    display: none !important;
  }

  /* ===== PAGE SETUP ===== */
  @page {
    size: A4 portrait;
    margin: 20mm 15mm;
  }

  /* ===== GLOBAL RESET ===== */
  html, body {
    margin: 0 !important;
    padding: 0 !important;
    background: white !important;
    color: #1a1a1a !important;
    font-family: 'Inter', 'Hind Siliguri', 'Noto Sans Bengali', sans-serif !important;
    font-size: 10pt !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    color-adjust: exact !important;
  }

  * {
    box-shadow: none !important;
    text-shadow: none !important;
  }

  /* Layout containers → full width */
  main,
  .print-area,
  [class*="MainLayout"] {
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Cards → plain containers */
  [data-slot="card"],
  .card {
    box-shadow: none !important;
    border: none !important;
    border-radius: 0 !important;
    padding: 0 !important;
    background: white !important;
  }

  /* Page break utilities */
  .page-break-before { page-break-before: always; }
  .page-break-after { page-break-after: always; }
  .avoid-page-break { page-break-inside: avoid; }

  /* ===== ERP REPORT BASE ===== */
  .erp-report {
    width: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
    background: white !important;
    color: #1a1a1a !important;
    border: none !important;
    box-shadow: none !important;
    border-radius: 0 !important;
  }

  .erp-report * {
    border-radius: 0 !important;
  }

  /* ===== ERP REPORT HEADER (print-only) ===== */
  .erp-report-header {
    text-align: center;
    margin-bottom: 5mm;
    padding-bottom: 3mm;
    border-bottom: 1.5pt solid #333;
  }

  .erp-report-header .erp-school-name {
    font-size: 16pt;
    font-weight: 700;
    color: #111;
    margin: 0;
    font-family: 'Hind Siliguri', sans-serif;
  }

  .erp-report-header .erp-school-name-en {
    font-size: 9pt;
    color: #555;
    margin: 1mm 0;
  }

  .erp-report-header .erp-report-title {
    font-size: 13pt;
    font-weight: 600;
    color: #222;
    margin-top: 3mm;
    font-family: 'Hind Siliguri', sans-serif;
  }

  .erp-report-header .erp-report-meta {
    display: flex;
    justify-content: center;
    gap: 8mm;
    font-size: 9pt;
    color: #444;
    margin-top: 2mm;
  }

  .erp-report-header .erp-report-meta strong {
    color: #111;
  }

  .erp-report-header .erp-header-image {
    width: 100%;
    max-height: 90px;
    object-fit: contain;
    margin-bottom: 2mm;
  }

  /* ===== SHARED REPORT HEADER COMPONENT ===== */
  .report-header {
    text-align: center !important;
    margin-bottom: 5mm !important;
    padding-bottom: 3mm !important;
    border-bottom: 1.5pt solid #333 !important;
    border-radius: 0 !important;
  }

  .report-header img {
    max-width: 70px !important;
    max-height: 70px !important;
  }

  .report-header h1 {
    font-size: 16pt !important;
    margin: 0 !important;
    color: #111 !important;
    font-family: 'Hind Siliguri', sans-serif !important;
  }

  .report-header h2 {
    font-size: 12pt !important;
    margin-top: 3mm !important;
    color: #222 !important;
    font-family: 'Hind Siliguri', sans-serif !important;
  }

  .report-header-image-container {
    margin-bottom: 3mm !important;
  }

  .report-header-img {
    max-height: 90px !important;
  }

  /* ===== INFO BOX ===== */
  .erp-info-box {
    border: 0.5pt solid #999 !important;
    padding: 3mm 4mm !important;
    margin-bottom: 4mm !important;
    background: #fafafa !important;
    border-radius: 0 !important;
  }

  /* ===== UNIVERSAL TABLE STYLES ===== */
  .erp-report table,
  .report-container table,
  .student-fee-report table {
    width: 100% !important;
    border-collapse: collapse !important;
    font-size: 9pt !important;
    page-break-inside: auto !important;
  }

  .erp-report thead,
  .report-container thead,
  .student-fee-report thead {
    display: table-header-group !important;
  }

  .erp-report th,
  .report-container th,
  .student-fee-report th {
    background: #f0f0f0 !important;
    border: 0.5pt solid #666 !important;
    padding: 2mm 3mm !important;
    font-weight: 700 !important;
    font-size: 9pt !important;
    color: #222 !important;
    text-align: left !important;
  }

  .erp-report td,
  .report-container td,
  .student-fee-report td {
    border: 0.5pt solid #bbb !important;
    padding: 1.5mm 3mm !important;
    color: #222 !important;
    vertical-align: middle !important;
  }

  .erp-report tbody tr,
  .report-container tbody tr,
  .student-fee-report tbody tr {
    page-break-inside: avoid !important;
  }

  /* Column alignments preserved in print */
  .erp-report td.text-right,
  .report-container td.text-right,
  .student-fee-report td.text-right,
  .erp-report th.text-right,
  .report-container th.text-right,
  .student-fee-report th.text-right {
    text-align: right !important;
    font-variant-numeric: tabular-nums !important;
  }

  .erp-report td.text-center,
  .report-container td.text-center,
  .student-fee-report td.text-center,
  .erp-report th.text-center,
  .report-container th.text-center,
  .student-fee-report th.text-center {
    text-align: center !important;
  }

  /* ===== STATUS COLORS ===== */
  .erp-status-present { color: #111 !important; font-weight: 700 !important; }
  .erp-status-late { color: #666 !important; font-weight: 700 !important; }
  .erp-status-absent { color: #c00 !important; font-weight: 700 !important; }

  /* ===== BADGES → PLAIN TEXT ===== */
  .erp-report [data-slot="badge"] {
    all: unset !important;
    font-weight: 600 !important;
    font-size: 8pt !important;
  }

  /* ===== SUMMARY SECTION ===== */
  .erp-summary {
    margin-top: 5mm !important;
    page-break-inside: avoid !important;
    border: 0.5pt solid #ccc !important;
    padding: 3mm !important;
    background: #fafafa !important;
  }

  .erp-summary-grid {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)) !important;
    gap: 3mm !important;
  }

  .erp-summary-card {
    border: 0.5pt solid #ccc !important;
    padding: 3mm 2mm !important;
    text-align: center !important;
    background: #fafafa !important;
    border-radius: 0 !important;
  }

  /* ===== REPORT FOOTER ===== */
  .erp-report-footer {
    margin-top: 8mm;
    padding-top: 3mm;
    border-top: 0.5pt solid #999;
    display: flex !important;
    justify-content: space-between;
    font-size: 7.5pt;
    color: #888;
  }

  .erp-report-footer strong {
    color: #555;
  }

  /* ===== MUTED BACKGROUNDS ===== */
  .erp-report .bg-muted,
  .erp-report .bg-muted\/30,
  .erp-report [class*="bg-muted"] {
    background: #f5f5f5 !important;
    border: 0.5pt solid #ddd !important;
    border-radius: 0 !important;
  }

  /* Fee amount colors in print */
  .erp-report .text-green-600,
  .student-fee-report .text-green-600 { color: #16a34a !important; }
  .erp-report .text-green-700 { color: #15803d !important; }
  .erp-report .text-amber-600,
  .student-fee-report .text-amber-600 { color: #d97706 !important; }
  .erp-report .text-amber-700 { color: #b45309 !important; }
  .erp-report .text-red-600,
  .student-fee-report .text-red-600 { color: #dc2626 !important; }
  .erp-report .text-red-700 { color: #b91c1c !important; }
  .erp-report .text-blue-700,
  .student-fee-report .text-blue-700 { color: #1d4ed8 !important; }

  .erp-report .bg-blue-50 { background: #eff6ff !important; }
  .erp-report .bg-amber-50 { background: #fffbeb !important; }
  .erp-report .bg-green-50 { background: #f0fdf4 !important; }
  .erp-report .bg-red-50 { background: #fef2f2 !important; }
}

/* ========================================
   STUDENT ATTENDANCE REPORT (SAR) — ERP-Grade
   A4 Portrait: 210mm × 297mm
   Margins: Top 20mm, Bottom 20mm, Left 15mm, Right 15mm
   ======================================== */

/* Screen preview — simulates A4 paper */
.student-attendance-report {
  max-width: 210mm;
  margin: 0 auto;
  padding: 20mm 15mm;
  background: #fff;
  color: #1a1a1a;
  font-family: 'Inter', 'Hind Siliguri', 'Noto Sans Bengali', sans-serif;
  font-size: 10pt;
  line-height: 1.5;
  box-shadow: 0 0 20px rgba(0,0,0,0.08);
  border: 1px solid #e5e7eb;
}

/* ---- Header ---- */
.sar-header {
  margin-bottom: 6mm;
}

.sar-header-row {
  display: flex;
  align-items: flex-start;
  gap: 5mm;
}

.sar-logo {
  width: 18mm;
  height: 18mm;
  object-fit: contain;
  flex-shrink: 0;
}

.sar-header-center {
  flex: 1;
  text-align: center;
}

.sar-school-name-bn {
  font-size: 16pt;
  font-weight: 700;
  margin: 0;
  line-height: 1.2;
  color: #111;
  font-family: 'Hind Siliguri', sans-serif;
}

.sar-school-name-en {
  font-size: 9pt;
  color: #555;
  margin: 1mm 0 0 0;
  letter-spacing: 0.5px;
}

.sar-report-title {
  font-size: 12pt;
  font-weight: 600;
  margin: 3mm 0 0 0;
  color: #222;
  font-family: 'Hind Siliguri', sans-serif;
}

.sar-header-right {
  text-align: right;
  font-size: 8.5pt;
  color: #444;
  flex-shrink: 0;
  line-height: 1.8;
}

.sar-header-right strong {
  color: #111;
}

/* ---- Header Image Mode ---- */
.sar-header-image-mode {
  text-align: center;
}

.sar-header-image {
  width: 100%;
  max-height: 100px;
  object-fit: contain;
}

.sar-header-meta {
  margin-top: 3mm;
}

.sar-header-meta .sar-report-title {
  margin-top: 1mm;
}

.sar-header-meta-row {
  display: flex;
  justify-content: center;
  gap: 8mm;
  font-size: 8.5pt;
  color: #444;
  margin-top: 2mm;
}

.sar-header-meta-row strong {
  color: #111;
}

/* ---- Report Header Image (shared ReportHeader) ---- */
.report-header-image-container {
  text-align: center;
}

.report-header-img {
  max-height: 100px;
}

.sar-divider {
  height: 0.5mm;
  background: linear-gradient(to right, #ccc, #333, #ccc);
  margin-top: 3mm;
}

/* ---- Student Info ---- */
.sar-student-info {
  border: 0.5pt solid #bbb;
  padding: 3mm 4mm;
  margin-bottom: 5mm;
  background: #fafafa;
}

.sar-info-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2mm 8mm;
}

.sar-info-item {
  display: flex;
  gap: 2mm;
  align-items: baseline;
}

.sar-info-label {
  font-size: 8pt;
  color: #666;
  min-width: 50mm;
  flex-shrink: 0;
}

.sar-info-value {
  font-size: 9.5pt;
  font-weight: 600;
  color: #111;
}

.sar-info-sub {
  font-weight: 400;
  color: #666;
  font-size: 8pt;
}

/* ---- Attendance Table ---- */
.sar-table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 5mm;
  font-size: 9pt;
}

.sar-table thead {
  display: table-header-group; /* repeat on every page */
}

.sar-table th {
  background: #f0f0f0;
  border: 0.5pt solid #999;
  padding: 2mm 3mm;
  font-weight: 700;
  font-size: 8.5pt;
  color: #222;
  text-align: left;
  white-space: nowrap;
}

.sar-th-sl { width: 10%; text-align: center; }
.sar-th-date { width: 18%; }
.sar-th-day { width: 22%; }
.sar-th-status { width: 25%; }
.sar-th-time { width: 25%; text-align: center; }

.sar-table td {
  border: 0.5pt solid #ccc;
  padding: 1.5mm 3mm;
  vertical-align: middle;
  color: #222;
}

.sar-table tbody tr {
  page-break-inside: avoid;
}

.sar-td-center {
  text-align: center;
}

.sar-td-date {
  font-variant-numeric: tabular-nums;
}

.sar-td-status {
  font-weight: 600;
}

.sar-status-present {
  color: #111;
}

.sar-status-late {
  color: #666;
}

.sar-status-absent {
  color: #c00;
}

.sar-row-weekend {
  background: #f9f9f9;
}

.sar-row-weekend td {
  color: #999;
}

/* ---- Summary ---- */
.sar-summary {
  margin-top: 5mm;
  page-break-inside: avoid;
}

.sar-summary-title {
  font-size: 10pt;
  font-weight: 700;
  margin-bottom: 3mm;
  color: #222;
  border-bottom: 0.5pt solid #ccc;
  padding-bottom: 2mm;
}

.sar-summary-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 3mm;
}

.sar-summary-card {
  border: 0.5pt solid #ccc;
  padding: 3mm 2mm;
  text-align: center;
  background: #fafafa;
}

.sar-summary-num {
  display: block;
  font-size: 18pt;
  font-weight: 800;
  line-height: 1.2;
  color: #111;
}

.sar-summary-label {
  display: block;
  font-size: 8pt;
  font-weight: 600;
  color: #444;
  margin-top: 1mm;
  font-family: 'Hind Siliguri', sans-serif;
}

.sar-summary-label-en {
  display: block;
  font-size: 7pt;
  color: #888;
}

.sar-card-present { border-bottom: 2pt solid #16a34a; }
.sar-card-late { border-bottom: 2pt solid #999; }
.sar-card-absent { border-bottom: 2pt solid #dc2626; }
.sar-card-rate { border-bottom: 2pt solid #2563eb; }

/* ---- Footer ---- */
.sar-footer {
  margin-top: 8mm;
  padding-top: 3mm;
  border-top: 0.5pt solid #ccc;
  display: flex;
  justify-content: space-between;
  font-size: 7pt;
  color: #888;
}

.sar-footer strong {
  color: #555;
}

/* ========================================
   SAR PRINT OVERRIDES
   ======================================== */
@media print {
  .student-attendance-report {
    max-width: none !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    box-shadow: none !important;
    border: none !important;
    background: white !important;
    color: black !important;
  }

  @page {
    size: A4 portrait;
    margin: 20mm 15mm;
  }

  /* Ensure header repeats on each printed page */
  .sar-table thead {
    display: table-header-group !important;
  }

  /* No row splitting */
  .sar-table tbody tr {
    page-break-inside: avoid !important;
  }

  /* Summary always on last page */
  .sar-summary {
    page-break-inside: avoid !important;
  }

  /* Crisp borders */
  .sar-table th,
  .sar-table td {
    border-color: #444 !important;
  }

  .sar-student-info {
    border-color: #444 !important;
    background: #f5f5f5 !important;
  }

  .sar-divider {
    background: #333 !important;
    height: 0.5pt !important;
  }

  .sar-footer {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 3mm 15mm;
    border-top: 0.5pt solid #999;
  }

  /* Summary card colors print */
  .sar-card-present { border-bottom-color: #16a34a !important; }
  .sar-card-late { border-bottom-color: #666 !important; }
  .sar-card-absent { border-bottom-color: #dc2626 !important; }
  .sar-card-rate { border-bottom-color: #2563eb !important; }

  .sar-status-absent { color: #c00 !important; }
  .sar-status-late { color: #555 !important; }

  .sar-row-weekend {
    background: #f5f5f5 !important;
  }

  /* Header image print */
  .sar-header-image {
    max-height: 90px !important;
  }

  .report-header-img {
    max-height: 90px !important;
  }

  .report-header-image-container {
    margin-bottom: 5mm !important;
  }
}

/* ========================================
   CLASS REGISTER — Landscape Override
   ======================================== */
.class-register {
  page: class-register-page;
}

@page class-register-page {
  size: A4 landscape;
  margin: 10mm;
}

@media print {
  .class-register {
    font-size: 7.5pt !important;
  }

  .class-register table {
    font-size: 7pt !important;
  }

  .class-register th,
  .class-register td {
    padding: 1.5mm 2mm !important;
  }

  .class-register .sticky {
    position: relative !important;
    left: auto !important;
  }
}

/* ========================================
   FEE REPORTS — Print Overrides
   ======================================== */
@media print {
  .student-fee-report {
    width: 100% !important;
    background: white !important;
    padding: 0 !important;
  }

  .student-fee-report .bg-muted\/30 {
    background: #f8f9fa !important;
    border: 0.5pt solid #bbb !important;
    padding: 8px !important;
    margin-bottom: 5mm !important;
    border-radius: 0 !important;
  }

  .student-fee-report .grid.grid-cols-2 {
    display: grid !important;
    grid-template-columns: repeat(4, 1fr) !important;
    gap: 6px !important;
    margin-bottom: 5mm !important;
  }

  .student-fee-report .grid.grid-cols-2 > div {
    border: 0.5pt solid #bbb !important;
    padding: 6px !important;
    text-align: center !important;
    border-radius: 0 !important;
  }

  /* Hidden elements visible in print */
  .student-fee-report .hidden.print\:block,
  .hidden.print\:block {
    display: block !important;
  }

  .hidden.print\:flex {
    display: flex !important;
  }
}

/* ========================================
   POS RECEIPT — Thermal Print
   ======================================== */
@media print {
  .receipt-print {
    width: 80mm !important;
    padding: 5mm !important;
    font-size: 10pt !important;
  }

  .receipt-print .receipt-header {
    text-align: center !important;
    margin-bottom: 5mm !important;
    padding-bottom: 3mm !important;
    border-bottom: 1px dashed #333 !important;
  }

  .receipt-print .receipt-body {
    margin: 5mm 0 !important;
  }

  .receipt-print .receipt-row {
    display: flex !important;
    justify-content: space-between !important;
    margin: 2mm 0 !important;
  }

  .receipt-print .receipt-total {
    font-weight: bold !important;
    font-size: 12pt !important;
    border-top: 1px dashed #333 !important;
    padding-top: 3mm !important;
    margin-top: 5mm !important;
  }

  .receipt-print .receipt-footer {
    text-align: center !important;
    margin-top: 5mm !important;
    padding-top: 3mm !important;
    border-top: 1px dashed #333 !important;
    font-size: 8pt !important;
  }
}