# ржЖржорж╛рж░ рж╣рж╛ржЬрж┐рж░рж╛ - рж╕ржлржЯржУржпрж╝рзНржпрж╛рж░ ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи

## рж╕ржВрж╕рзНржХрж░ржг: 1.0.0
## рждрж╛рж░рж┐ржЦ: ржЬрж╛ржирзБржпрж╝рж╛рж░рж┐ рзирзжрзирзм

---

# рж╕рзВржЪрж┐ржкрждрзНрж░

1. [рж╕ржлржЯржУржпрж╝рзНржпрж╛рж░ ржкрж░рж┐ржЪрж┐рждрж┐](#рзз-рж╕ржлржЯржУржпрж╝рзНржпрж╛рж░-ржкрж░рж┐ржЪрж┐рждрж┐)
2. [ржкрзНрж░ржпрзБржХрзНрждрж┐ рж╕рзНржЯрзНржпрж╛ржХ](#рзи-ржкрзНрж░ржпрзБржХрзНрждрж┐-рж╕рзНржЯрзНржпрж╛ржХ)
3. [ржбрж╛ржЯрж╛ржмрзЗрж╕ рж╕рзНржХрж┐ржорж╛](#рзй-ржбрж╛ржЯрж╛ржмрзЗрж╕-рж╕рзНржХрж┐ржорж╛)
4. [ржоржбрж┐ржЙрж▓ ржмрж┐ржмрж░ржг](#рзк-ржоржбрж┐ржЙрж▓-ржмрж┐ржмрж░ржг)
5. [Edge Functions](#рзл-edge-functions-backend)
6. [ржЗржЙржЬрж╛рж░ рж░рзЛрж▓ ржУ ржкрж╛рж░ржорж┐рж╢ржи](#рзм-ржЗржЙржЬрж╛рж░-рж░рзЛрж▓-ржУ-ржкрж╛рж░ржорж┐рж╢ржи)
7. [ржлрж╛ржЗрж▓ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░](#рзн-ржлрж╛ржЗрж▓-рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░)

---

# рзз. рж╕ржлржЯржУржпрж╝рзНржпрж╛рж░ ржкрж░рж┐ржЪрж┐рждрж┐

**ржЖржорж╛рж░ рж╣рж╛ржЬрж┐рж░рж╛ (Amar Hajira)** ржПржХржЯрж┐ рж╕ржорзНржкрзВрж░рзНржг рж╕рзНржХрзБрж▓ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ рж╕рж┐рж╕рзНржЯрзЗржо ржпрж╛ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХрж╛рж░рзНржпрж╛ржмрж▓рзА рж╕ржорзНржкрж╛ржжржи ржХрж░рзЗ:

- тЬЕ RFID ржХрж╛рж░рзНржб ржнрж┐рждрзНрждрж┐ржХ ржЙржкрж╕рзНржерж┐рждрж┐ ржЯрзНрж░рзНржпрж╛ржХрж┐ржВ
- тЬЕ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА ржУ рж╢рж┐ржХрзНрж╖ржХ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛
- тЬЕ ржлрж┐ ржЖржжрж╛ржпрж╝ ржУ рж╣рж┐рж╕рж╛ржм ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛ (POS рж╕рзНржЯрж╛ржЗрж▓)
- тЬЕ ржЗржиржнрзЗржирзНржЯрж░рж┐ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ
- тЬЕ SMS/WhatsApp ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи
- тЬЕ рж░рж┐ржкрзЛрж░рзНржЯ ржЬрзЗржирж╛рж░рзЗрж╢ржи

---

# рзи. ржкрзНрж░ржпрзБржХрзНрждрж┐ рж╕рзНржЯрзНржпрж╛ржХ

## Frontend
| ржкрзНрж░ржпрзБржХрзНрждрж┐ | рж╕ржВрж╕рзНржХрж░ржг | ржмрзНржпржмрж╣рж╛рж░ |
|----------|---------|---------|
| React | ^18.3.1 | UI Framework |
| TypeScript | - | Type Safety |
| Vite | - | Build Tool |
| Tailwind CSS | - | Styling |
| TanStack React Query | ^5.83.0 | Data Fetching & Caching |
| React Router DOM | ^6.30.1 | Routing |
| Recharts | ^2.15.4 | Charts & Graphs |
| Radix UI | Various | UI Components |
| Sonner | ^1.7.4 | Toast Notifications |
| date-fns | ^3.6.0 | Date Utilities |

## Backend (Lovable Cloud)
| ржкрзНрж░ржпрзБржХрзНрждрж┐ | ржмрзНржпржмрж╣рж╛рж░ |
|----------|---------|
| PostgreSQL | Database |
| Row Level Security (RLS) | Data Access Control |
| Edge Functions (Deno) | Serverless Backend Logic |
| Supabase Auth | Authentication |
| Supabase Storage | File Storage |

---

# рзй. ржбрж╛ржЯрж╛ржмрзЗрж╕ рж╕рзНржХрж┐ржорж╛

## ржорзВрж▓ ржЯрзЗржмрж┐рж▓рж╕ржорзВрж╣ (рзирзоржЯрж┐)

### рж╢рж┐ржХрзНрж╖рж╛ржмрж░рзНрж╖ ржУ ржХрж╛ржарж╛ржорзЛ
| ржЯрзЗржмрж┐рж▓ | ржмрж┐ржмрж░ржг |
|-------|--------|
| `academic_years` | рж╢рж┐ржХрзНрж╖рж╛ржмрж░рзНрж╖ (рзирзжрзирзл, рзирзжрзирзм...) |
| `shifts` | рж╢рж┐ржлржЯ (ржкрзНрж░ржнрж╛рждрзА, ржжрж┐ржмрж╛) + рж╕ржоржпрж╝рж╕рзВржЪрж┐ |
| `classes` | рж╢рзНрж░рзЗржгрзА (рззржо-рззрзжржо) |
| `sections` | рж╢рж╛ржЦрж╛ (ржХ, ржЦ, ржЧ) |
| `panels` | ржкрзНржпрж╛ржирзЗрж▓ (рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА/рж╢рж┐ржХрзНрж╖ржХ ржЧрзНрж░рзБржк) |

### ржмрзНржпржХрзНрждрж┐ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛
| ржЯрзЗржмрж┐рж▓ | ржмрж┐ржмрж░ржг |
|-------|--------|
| `students` | рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА рждржерзНржп |
| `teachers` | рж╢рж┐ржХрзНрж╖ржХ рждржерзНржп |
| `profiles` | ржЗржЙржЬрж╛рж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓ |
| `user_roles` | ржЗржЙржЬрж╛рж░ рж░рзЛрж▓ (super_admin, admin, teacher, operator) |

### RFID ржУ ржЙржкрж╕рзНржерж┐рждрж┐
| ржЯрзЗржмрж┐рж▓ | ржмрж┐ржмрж░ржг |
|-------|--------|
| `rfid_cards_students` | рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА RFID ржХрж╛рж░рзНржб |
| `rfid_cards_teachers` | рж╢рж┐ржХрзНрж╖ржХ RFID ржХрж╛рж░рзНржб |
| `punch_logs` | рж╕ржХрж▓ ржкрж╛ржЮрзНржЪ рж▓ржЧ (unlimited) |
| `student_attendance` | рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА ржжрзИржирж┐ржХ ржЙржкрж╕рзНржерж┐рждрж┐ |
| `teacher_attendance` | рж╢рж┐ржХрзНрж╖ржХ ржжрзИржирж┐ржХ ржЙржкрж╕рзНржерж┐рждрж┐ (punch in/out) |
| `manual_attendance_logs` | ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓ ржПржирзНржЯрзНрж░рж┐ рж▓ржЧ |
| `devices` | RFID ржбрж┐ржнрж╛ржЗрж╕ рждржерзНржп |

### ржлрж┐ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ
| ржЯрзЗржмрж┐рж▓ | ржмрж┐ржмрж░ржг |
|-------|--------|
| `fee_settings` | ржлрж┐ рж╕рзЗржЯрж┐ржВрж╕ (due date, late fine) |
| `class_monthly_fees` | рж╢рзНрж░рзЗржгрзА ржнрж┐рждрзНрждрж┐ржХ ржлрж┐ (ржнрж░рзНрждрж┐, рж╕рзЗрж╢ржи, ржорж╛рж╕рж┐ржХ) |
| `student_fee_records` | рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА ржлрж┐ рж░рзЗржХрж░рзНржб |
| `student_custom_fees` | рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА ржХрж╛рж╕рзНржЯржо ржлрж┐ |
| `exams` | ржкрж░рзАржХрзНрж╖рж╛ рждрж╛рж▓рж┐ржХрж╛ ржУ ржлрж┐ |

### ржЗржиржнрзЗржирзНржЯрж░рж┐
| ржЯрзЗржмрж┐рж▓ | ржмрж┐ржмрж░ржг |
|-------|--------|
| `inventory_products` | ржкржгрзНржп рждрж╛рж▓рж┐ржХрж╛ (ржбрж╛ржпрж╝рзЗрж░рж┐, ржЖржЗржбрж┐ ржХрж╛рж░рзНржб...) |
| `inventory_transactions` | рж╕рзНржЯржХ ржЯрзНрж░рж╛ржиржЬрж╛ржХрж╢ржи |

### ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░ ржУ ржЫрзБржЯрж┐
| ржЯрзЗржмрж┐рж▓ | ржмрж┐ржмрж░ржг |
|-------|--------|
| `school_calendar` | рж╕рзНржХрзБрж▓ ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░ (holiday, exam, event) |
| `calendar_class_entries` | рж╢рзНрж░рзЗржгрзА ржнрж┐рждрзНрждрж┐ржХ ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░ |
| `weekly_holidays` | рж╕рж╛ржкрзНрждрж╛рж╣рж┐ржХ ржЫрзБржЯрж┐ |

### SMS ржУ ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи
| ржЯрзЗржмрж┐рж▓ | ржмрж┐ржмрж░ржг |
|-------|--------|
| `sms_settings` | SMS/WhatsApp ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи |
| `sms_logs` | SMS рж▓ржЧ |

### ржЕржирзНржпрж╛ржирзНржп
| ржЯрзЗржмрж┐рж▓ | ржмрж┐ржмрж░ржг |
|-------|--------|
| `required_documents` | ржнрж░рзНрждрж┐ ржбржХрзБржорзЗржирзНржЯ рждрж╛рж▓рж┐ржХрж╛ |
| `student_documents` | рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА ржбржХрзБржорзЗржирзНржЯ |
| `system_settings` | рж╕рж┐рж╕рзНржЯрзЗржо рж╕рзЗржЯрж┐ржВрж╕ |
| `monitor_videos` | ржоржирж┐ржЯрж░ ржнрж┐ржбрж┐ржУ |
| `monitor_news` | ржоржирж┐ржЯрж░ ржирж┐ржЙржЬ рж╕рзНржХрзНрж░рж▓рж╛рж░ |
| `audit_logs` | ржЕржбрж┐ржЯ рж▓ржЧ |

---

# рзк. ржоржбрж┐ржЙрж▓ ржмрж┐ржмрж░ржг

## рзк.рзз ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб (`/`)
- ржорзЛржЯ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА ржУ рж╢рж┐ржХрзНрж╖ржХ рж╕ржВржЦрзНржпрж╛
- ржЖржЬржХрзЗрж░ ржЙржкрж╕рзНржерж┐рждрж┐ (Present, Late, Absent)
- ржЙржкрж╕рзНржерж┐рждрж┐ рж╣рж╛рж░ (%)
- рж╕рж╛ржорзНржкрзНрж░рждрж┐ржХ ржХрж╛рж░рзНржпржХрж▓рж╛ржк
- Quick Actions

## рзк.рзи рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ (`/students`)

### ржлрж┐ржЪрж╛рж░рж╕ржорзВрж╣:
- рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА рждрж╛рж▓рж┐ржХрж╛ (ржлрж┐рж▓рзНржЯрж╛рж░: ржХрзНрж▓рж╛рж╕, рж╕рзЗржХрж╢ржи, рж╢рж┐ржлржЯ)
- ржирждрзБржи рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА рж░рзЗржЬрж┐рж╕рзНржЯрзНрж░рзЗрж╢ржи
- ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржПржбрж┐ржЯ (Financial Tab рж╕рж╣)
- RFID ржХрж╛рж░рзНржб ржПржирж░рзЛрж▓ржорзЗржирзНржЯ
- ржлржЯрзЛ ржХрзНржпрж╛ржкржЪрж╛рж░ (Webcam)
- ржбржХрзБржорзЗржирзНржЯ ржЪрзЗржХрж▓рж┐рж╕рзНржЯ

### рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА ржлрж┐рж▓рзНржб:
| ржлрж┐рж▓рзНржб | ржмрж┐ржмрж░ржг |
|-------|--------|
| ржирж╛ржо | English/Bengali |
| Student ID Number | ржЗржЙржирж┐ржХ ржЖржЗржбрж┐ |
| рж╢рзНрж░рзЗржгрзА, рж╢рж╛ржЦрж╛, рж╢рж┐ржлржЯ | ржПржХрж╛ржбрзЗржорж┐ржХ рждржерзНржп |
| ржЕржнрж┐ржнрж╛ржмржХ ржорзЛржмрж╛ржЗрж▓ | SMS ржПрж░ ржЬржирзНржп |
| рж░ржХрзНрждрзЗрж░ ржЧрзНрж░рзБржк | ржРржЪрзНржЫрж┐ржХ |
| ржнрж░рзНрждрж┐рж░ рждрж╛рж░рж┐ржЦ | ржлрж┐ ржЧржгржирж╛рж░ ржЬржирзНржп |
| ржЫржмрж┐ | Webcam/Upload |

## рзк.рзй рж╢рж┐ржХрзНрж╖ржХ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ (`/teachers`)

### ржлрж┐ржЪрж╛рж░рж╕ржорзВрж╣:
- рж╢рж┐ржХрзНрж╖ржХ рждрж╛рж▓рж┐ржХрж╛
- ржирждрзБржи рж╢рж┐ржХрзНрж╖ржХ рж░рзЗржЬрж┐рж╕рзНржЯрзНрж░рзЗрж╢ржи
- ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржПржбрж┐ржЯ
- RFID ржХрж╛рж░рзНржб ржПржирж░рзЛрж▓ржорзЗржирзНржЯ

### рж╢рж┐ржХрзНрж╖ржХ ржлрж┐рж▓рзНржб:
| ржлрж┐рж▓рзНржб | ржмрж┐ржмрж░ржг |
|-------|--------|
| ржирж╛ржо | English/Bengali |
| ржкржжржмрзА | Designation |
| ржорзЛржмрж╛ржЗрж▓ | ржпрзЛржЧрж╛ржпрзЛржЧ |
| рж╢рж┐ржлржЯ | ржХрж╛ржЬрзЗрж░ рж╕ржоржпрж╝ |
| рж░ржХрзНрждрзЗрж░ ржЧрзНрж░рзБржк | ржРржЪрзНржЫрж┐ржХ |
| ржЫржмрж┐ | Webcam/Upload |

## рзк.рзк ржЙржкрж╕рзНржерж┐рждрж┐ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ

### Student Attendance (`/attendance/students`)
- рждрж╛рж░рж┐ржЦ ржУ ржХрзНрж▓рж╛рж╕ ржнрж┐рждрзНрждрж┐ржХ ржлрж┐рж▓рзНржЯрж╛рж░
- Present/Late/Absent рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕
- ржкрж╛ржЮрзНржЪ рж╕ржоржпрж╝ ржжрзЗржЦрж╛ржирзЛ

### Teacher Attendance (`/attendance/teachers`)
- Punch In/Punch Out рж╕ржоржпрж╝
- Late minutes ржЧржгржирж╛

### Manual Entry (`/attendance/manual`)
- ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓ ржЙржкрж╕рзНржерж┐рждрж┐ ржПржирзНржЯрзНрж░рж┐
- ржХрж╛рж░ржг рж▓ржЧ ржХрж░рж╛

## рзк.рзл рж▓рж╛ржЗржн ржоржирж┐ржЯрж░

### Gate Monitor (`/monitor/gate`)
- RFID ржкрж╛ржЮрзНржЪ ржХрж░рж▓рзЗ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА/рж╢рж┐ржХрзНрж╖ржХрзЗрж░ ржЫржмрж┐ ржУ рждржерзНржп ржжрзЗржЦрж╛ржпрж╝
- ржнрж┐ржбрж┐ржУ ржкрзНрж▓рзЗржпрж╝рж╛рж░ (ржкрж╛ржЮрзНржЪрзЗ рззрзл рж╕рзЗржХрзЗржирзНржб ржкржЬ)
- ржирж┐ржЙржЬ рж╕рзНржХрзНрж░рж▓рж╛рж░

### Office Monitor (`/monitor/office`)
- ржЕржлрж┐рж╕ ржбрж┐рж╕ржкрзНрж▓рзЗ ржнрж┐ржЙ

## рзк.рзм ржлрж┐ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ

### Fee Settings (`/fees/settings`)

#### Late Fine рж╕рзЗржЯрж┐ржВрж╕:
- Due Date (ржорж╛рж╕рзЗрж░ ржХржд рждрж╛рж░рж┐ржЦ)
- Late Fine Amount
- Enable/Disable Late Fine

#### рж╢рзНрж░рзЗржгрзА ржнрж┐рждрзНрждрж┐ржХ ржлрж┐:
| ржлрж┐ ржЯрж╛ржЗржк | ржмрж┐ржмрж░ржг |
|---------|--------|
| ржнрж░рзНрждрж┐ ржлрж┐ | ржПржХржХрж╛рж▓рзАржи |
| рж╕рзЗрж╢ржи ржЪрж╛рж░рзНржЬ | ржмрж╛рж░рзНрж╖рж┐ржХ |
| ржорж╛рж╕рж┐ржХ ржмрзЗрждржи | ржкрзНрж░рждрж┐ ржорж╛рж╕рзЗ |

#### ржкрж░рзАржХрзНрж╖рж╛ ржлрж┐:
- ржкрж░рзАржХрзНрж╖рж╛ рждрж╛рж▓рж┐ржХрж╛ (CRUD)
- ржкрж░рзАржХрзНрж╖рж╛ ржнрж┐рждрзНрждрж┐ржХ ржлрж┐

#### Bulk Fee Generation:
- ржПржХржЯрж┐ ржорж╛рж╕рзЗрж░ ржлрж┐ ржЬрзЗржирж╛рж░рзЗржЯ
- ржПржХржЯрж┐ ржкрж░рзАржХрзНрж╖рж╛рж░ ржлрж┐ ржЬрзЗржирж╛рж░рзЗржЯ
- рж╕ржорзНржкрзВрж░рзНржг ржмржЫрж░рзЗрж░ рж╕ржм ржорж╛рж╕рзЗрж░ ржлрж┐ ржЬрзЗржирж╛рж░рзЗржЯ

### Fee Collection (`/fees/collection`) - POS Style

#### UI рж▓рзЗржЖржЙржЯ:
```
+-----------------------------------+------------------------+
| ржмрж╛ржо ржкрзНржпрж╛ржирзЗрж▓ (w-2/3)               | ржбрж╛ржи ржкрзНржпрж╛ржирзЗрж▓ (w-1/3)     |
|                                   |                        |
| [Avatar] ржирж╛ржо | ржХрзНрж▓рж╛рж╕ | ржорзЛржмрж╛ржЗрж▓     | ЁЯЫТ ржХрж╛рж░рзНржЯ               |
|                                   |                        |
| тФБтФБтФБ ржорж╛рж╕рж┐ржХ ржмрзЗрждржи тФБтФБтФБ               | ржЬрж╛ржирзБржпрж╝рж╛рж░рж┐      рз│500  тЬХ |
| [ржЬрж╛ржирзБ] [ржлрзЗржмрзНрж░рзБ] [ржорж╛рж░рзНржЪ] [ржПржкрзНрж░рж┐рж▓]   | ржлрзЗржмрзНрж░рзБржпрж╝рж╛рж░рж┐     рз│500  тЬХ |
| [ржорзЗ] [ржЬрзБржи] [ржЬрзБрж▓рж╛ржЗ] [ржЖржЧрж╕рзНржЯ]...      | ржбрж╛ржпрж╝рзЗрж░рж┐ x1     рз│200  тЬХ |
|                                   |                        |
| тФБтФБтФБ ржЕржирзНржпрж╛ржирзНржп ржлрж┐ тФБтФБтФБ              |------------------------|
| [ржнрж░рзНрждрж┐] [рж╕рзЗрж╢ржи] [рззржо рж╕рж╛ржоржпрж╝рж┐ржХ]...    | рж╕рж╛ржмржЯрзЛржЯрж╛рж▓:     рз│1200   |
|                                   | ржЬрж░рж┐ржорж╛ржирж╛:      рз│0      |
| тФБтФБтФБ ржкржгрзНржп тФБтФБтФБ                     |------------------------|
| [ржбрж╛ржпрж╝рзЗрж░рж┐] [ржЖржЗржбрж┐] [ржмржЗ]...          | ржорзЛржЯ: рз│1200            |
|                                   |                        |
+-----------------------------------+ [ЁЯТ░ ржЖржжрж╛ржпрж╝ ржХрж░рзБржи]        |
                                    +------------------------+
```

#### ржлрж┐ржЪрж╛рж░рж╕ржорзВрж╣:
- RFID/Student ID ржжрж┐ржпрж╝рзЗ рж╕рж╛рж░рзНржЪ
- ржорж╛рж╕рж┐ржХ ржлрж┐ ржЧрзНрж░рж┐ржб (2x6)
- ржЕржирзНржпрж╛ржирзНржп ржлрж┐ ржХрж╛рж░рзНржб
- ржкржгрзНржп рждрж╛рж▓рж┐ржХрж╛ (+/- quantity)
- рж╢ржкрж┐ржВ ржХрж╛рж░рзНржЯ рж╕рж┐рж╕рзНржЯрзЗржо
- ржорж╛рж▓рзНржЯрж┐-ржЖржЗржЯрзЗржо рж╕рж┐рж▓рзЗржХрж╢ржи
- Success Dialog (Print/Exit)
- A4 рж░рж┐рж╕рж┐ржкрзНржЯ ржкрзНрж░рж┐ржирзНржЯ

### Fee Reports (`/fees/reports`)
- рж╢рзНрж░рзЗржгрзА ржнрж┐рждрзНрждрж┐ржХ ржЖржжрж╛ржпрж╝ рж░рж┐ржкрзЛрж░рзНржЯ
- ржорж╛рж╕рж┐ржХ ржЖржжрж╛ржпрж╝ рж╕рж╛рж░рж╛ржВрж╢
- Defaulter List (SMS ржкрж╛ржарж╛ржирзЛрж░ ржЕржкрж╢ржи)
- рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА рж░рж┐ржкрзЛрж░рзНржЯ (ржмржЫрж░ржУржпрж╝рж╛рж░рзА ржлрж┐ рж╣рж┐рж╕рзНржЯрзНрж░рж┐)

## рзк.рзн ржЗржиржнрзЗржирзНржЯрж░рж┐ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ (`/inventory`)

### ржлрж┐ржЪрж╛рж░рж╕ржорзВрж╣:
- ржкрзНрж░рзЛржбрж╛ржХрзНржЯ рждрж╛рж▓рж┐ржХрж╛ (CRUD)
- рж╕рзНржЯржХ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ (Stock In)
- ржХржо рж╕рзНржЯржХ рж╕рждрж░рзНржХрждрж╛
- ржмрж┐ржХрзНрж░ржпрж╝рзЗ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ рж╕рзНржЯржХ ржХржорж╛ржирзЛ (DB Trigger)

### ржХрзНржпрж╛ржЯрж╛ржЧрж░рж┐:
| ржХрзНржпрж╛ржЯрж╛ржЧрж░рж┐ | ржмрж╛ржВрж▓рж╛ |
|-----------|--------|
| diary | ржбрж╛ржпрж╝рзЗрж░рж┐ |
| id_card | ржЖржЗржбрж┐ ржХрж╛рж░рзНржб |
| fee_book | ржлрж┐ ржмрзБржХ |
| uniform | ржЗржЙржирж┐ржлрж░рзНржо |
| book | ржмржЗ |
| stationery | рж╕рзНржЯрзЗрж╢ржирж╛рж░рж┐ |
| other | ржЕржирзНржпрж╛ржирзНржп |

## рзк.рзо рж░рж┐ржкрзЛрж░рзНржЯ (`/reports`)

### ржЙржкрж╕рзНржерж┐рждрж┐ рж░рж┐ржкрзЛрж░рзНржЯ:
| рж░рж┐ржкрзЛрж░рзНржЯ ржЯрж╛ржЗржк | ржмрж┐ржмрж░ржг |
|--------------|--------|
| рж╢рзНрж░рзЗржгрзА ржорж╛рж╕рж┐ржХ | ржкрзБрж░рзЛ ржХрзНрж▓рж╛рж╕рзЗрж░ ржорж╛рж╕рж┐ржХ ржЙржкрж╕рзНржерж┐рждрж┐ |
| рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА ржорж╛рж╕рж┐ржХ | ржПржХржЬржи рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАрж░ ржорж╛рж╕рж┐ржХ ржЙржкрж╕рзНржерж┐рждрж┐ |
| рж╢рж┐ржХрзНрж╖ржХ ржорж╛рж╕рж┐ржХ | рж╢рж┐ржХрзНрж╖ржХржжрзЗрж░ ржорж╛рж╕рж┐ржХ ржЙржкрж╕рзНржерж┐рждрж┐ |

## рзк.рзп рж╕рзЗржЯрж┐ржВрж╕

### Academic Year (`/academic-year`)
- рж╢рж┐ржХрзНрж╖рж╛ржмрж░рзНрж╖ рждрзИрж░рж┐/ржПржбрж┐ржЯ
- Active Year рж╕рзЗржЯ ржХрж░рж╛
- Archive ржХрж░рж╛

### Shifts (`/settings/shifts`)
- рж╢рж┐ржлржЯ рждрзИрж░рж┐/ржПржбрж┐ржЯ
- рж╕ржоржпрж╝рж╕рзВржЪрж┐:
  - Start Time
  - End Time
  - Late Threshold Time
  - Absent Cutoff Time
  - SMS Trigger Time

### Classes (`/settings/classes`)
- рж╢рзНрж░рзЗржгрзА рждрзИрж░рж┐/ржПржбрж┐ржЯ
- Grade Order рж╕рзЗржЯ ржХрж░рж╛
- Shift ржЕрзНржпрж╛рж╕рж╛ржЗржи ржХрж░рж╛

### Sections (`/settings/sections`)
- рж╢рж╛ржЦрж╛ рждрзИрж░рж┐/ржПржбрж┐ржЯ
- ржХрзНрж▓рж╛рж╕ ржнрж┐рждрзНрждрж┐ржХ рж╢рж╛ржЦрж╛

### School Calendar (`/calendar`)
- ржЫрзБржЯрж┐, ржкрж░рзАржХрзНрж╖рж╛, ржЗржнрзЗржирзНржЯ ржпрзЛржЧ
- рж╢рзНрж░рзЗржгрзА ржнрж┐рждрзНрждрж┐ржХ ржЫрзБржЯрж┐
- Day Types:
  - holiday (ржЫрзБржЯрж┐)
  - exam (ржкрж░рзАржХрзНрж╖рж╛)
  - event (ржЕржирзБрж╖рзНржарж╛ржи)
  - half_day (ржЕрж░рзНржзржжрж┐ржмрж╕)

### Document Settings (`/settings/documents`)
- ржнрж░рзНрждрж┐ ржбржХрзБржорзЗржирзНржЯ рждрж╛рж▓рж┐ржХрж╛ (CRUD)
- Mandatory/Optional рж╕рзЗржЯ ржХрж░рж╛

### Device Management (`/devices`)
- RFID ржбрж┐ржнрж╛ржЗрж╕ ржпрзЛржЧ
- IP Address, Port ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи
- Online/Offline рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕
- Device Sync

### SMS Settings (`/sms`)

#### SMS API ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи:
- API Key (mimSMS)
- Sender ID

#### WhatsApp Business API:
- Access Token
- Phone Number ID
- Business Account ID

#### ржЯрзЗржоржкрзНрж▓рзЗржЯ рж╕рзЗржЯрж┐ржВрж╕:
| ржЯрзЗржоржкрзНрж▓рзЗржЯ | ржкрзНрж▓рзЗрж╕рж╣рзЛрж▓рзНржбрж╛рж░ |
|----------|--------------|
| Punch SMS | {name}, {time}, {status} |
| Late SMS | {name}, {time}, {late_minutes} |
| Absent SMS | {name}, {date} |

#### ржЕржирзНржпрж╛ржирзНржп:
- Preferred Channel (SMS/WhatsApp)
- Fallback to SMS
- Enable/Disable per type

### Monitor Settings (`/settings/monitor`)
- рж╕рзНржХрзБрж▓рзЗрж░ ржирж╛ржо ржУ рж▓рзЛржЧрзЛ
- ржнрж┐ржбрж┐ржУ рждрж╛рж▓рж┐ржХрж╛ (CRUD)
- ржирж┐ржЙржЬ рж╕рзНржХрзНрж░рж▓рж╛рж░ ржЖржЗржЯрзЗржо
- рж╕рзНржХрзНрж░рж▓рж╛рж░ рж╕рзНржЯрж╛ржЗрж▓:
  - Background Color
  - Text Color
  - Bullet Color
  - Font Family
  - Font Size
  - Speed

---

# рзл. Edge Functions (Backend)

## рзл.рзз `process-punch`
**ржЙржжрзНржжрзЗрж╢рзНржп:** RFID ржХрж╛рж░рзНржб ржкрж╛ржЮрзНржЪ ржкрзНрж░рж╕рзЗрж╕ ржХрж░рж╛

### ржЗржиржкрзБржЯ:
```json
{
  "card_number": "1234567890",
  "device_id": "uuid"
}
```

### рж▓ржЬрж┐ржХ ржлрзНрж▓рзЛ:
```
1. ржХрж╛рж░рзНржб ржиржорзНржмрж░ рж░рж┐рж╕рж┐ржн
      тЖУ
2. punch_logs ржП рж╕рзЗржн (рж╕ржм ржкрж╛ржЮрзНржЪ)
      тЖУ
3. ржХрж╛рж░рзНржб ржжрж┐ржпрж╝рзЗ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА/рж╢рж┐ржХрзНрж╖ржХ ржЦрзБржБржЬрзБржи
      тЖУ
4. ржЖржЬржХрзЗ ржПржЗ ржмрзНржпржХрзНрждрж┐рж░ attendance ржЖржЫрзЗ?
      тЖУ
   ржирж╛ тЖТ ржирждрзБржи attendance рж░рзЗржХрж░рзНржб рждрзИрж░рж┐
      тЖУ
5. рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржирж┐рж░рзНржзрж╛рж░ржг:
   - Punch Time <= Start Time тЖТ Present
   - Punch Time > Start Time тЖТ Late
      тЖУ
6. SMS ржЯрзНрж░рж┐ржЧрж╛рж░ (Background)
```

### рж╢рж┐ржХрзНрж╖ржХ ржкрж╛ржЮрзНржЪ:
- ржкрзНрж░ржержо ржкрж╛ржЮрзНржЪ = Punch In (status: present/late)
- ржжрзНржмрж┐рждрзАржпрж╝ ржкрж╛ржЮрзНржЪ = Punch Out (update punch_out_time)

### ржЖржЙржЯржкрзБржЯ:
```json
{
  "success": true,
  "person_type": "student",
  "person": { ... },
  "status": "present",
  "punch_time": "08:30:00"
}
```

## рзл.рзи `send-sms`
**ржЙржжрзНржжрзЗрж╢рзНржп:** SMS/WhatsApp ржкрж╛ржарж╛ржирзЛ

### ржЗржиржкрзБржЯ:
```json
{
  "mobile": "01712345678",
  "message": "ржЖржкржирж╛рж░ рж╕ржирзНрждрж╛ржи рж╕рзНржХрзБрж▓рзЗ ржПрж╕рзЗржЫрзЗ",
  "sms_type": "punch",
  "student_id": "uuid"
}
```

### рж╕ржорж░рзНржерж┐ржд SMS ржЯрж╛ржЗржк:
| ржЯрж╛ржЗржк | ржЯрзНрж░рж┐ржЧрж╛рж░ |
|------|---------|
| punch | рж╕рзНржХрзБрж▓рзЗ ржЖрж╕рж▓рзЗ |
| late | ржмрж┐рж▓ржорзНржмрзЗ ржЖрж╕рж▓рзЗ |
| absent | ржЕржирзБржкрж╕рзНржерж┐ржд ржерж╛ржХрж▓рзЗ |
| custom_notice | ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓ |
| fee_due | ржмржХрзЗржпрж╝рж╛ ржлрж┐ |

### ржЪрзНржпрж╛ржирзЗрж▓ рж╕рж┐рж▓рзЗржХрж╢ржи:
```
1. Preferred Channel ржЪрзЗржХ
      тЖУ
   WhatsApp тЖТ WhatsApp API call
      тЖУ
   Failed + Fallback Enabled тЖТ SMS API call
      тЖУ
   SMS тЖТ SMS API call
```

### SMS Provider: mimSMS
```
Endpoint: https://api.mimsms.com/api/SmsSending/SendSms
Method: POST
Headers: {
  "Api-Key": "your-api-key",
  "Content-Type": "application/json"
}
```

## рзл.рзй `sync-device`
**ржЙржжрзНржжрзЗрж╢рзНржп:** RFID ржбрж┐ржнрж╛ржЗрж╕ рж╕рж┐ржЩрзНржХ ржХрж░рж╛

### ржХрж╛рж░рзНржпрж╛ржмрж▓рзА:
- ржбрж┐ржнрж╛ржЗрж╕ ржЕржирж▓рж╛ржЗржи рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржЪрзЗржХ
- Last Sync Time ржЖржкржбрзЗржЯ
- ржбрж┐ржнрж╛ржЗрж╕ ржерзЗржХрзЗ ржкрж╛ржЮрзНржЪ ржбрж╛ржЯрж╛ ржкрзБрж▓

## рзл.рзк `create-super-admin`
**ржЙржжрзНржжрзЗрж╢рзНржп:** ржкрзНрж░ржержо рж╕рзБржкрж╛рж░ ржЕрзНржпрж╛ржбржорж┐ржи рждрзИрж░рж┐

### ржмрзНржпржмрж╣рж╛рж░:
ржкрзНрж░ржержоржмрж╛рж░ рж╕рж┐рж╕рзНржЯрзЗржо рж╕рзЗржЯржЖржкрзЗ ржПржХржЬржи рж╕рзБржкрж╛рж░ ржЕрзНржпрж╛ржбржорж┐ржи рждрзИрж░рж┐ ржХрж░рждрзЗред

---

# рзм. ржЗржЙржЬрж╛рж░ рж░рзЛрж▓ ржУ ржкрж╛рж░ржорж┐рж╢ржи

## рж░рзЛрж▓рж╕ржорзВрж╣:

| рж░рзЛрж▓ | ржмрж┐ржмрж░ржг | ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ |
|-----|--------|----------|
| `super_admin` | рж╕рж░рзНржмрзЛржЪрзНржЪ | рж╕ржм ржХрж┐ржЫрзБ |
| `admin` | ржЕрзНржпрж╛ржбржорж┐ржи | рж╕рзЗржЯрж┐ржВрж╕ ржЫрж╛ржбрж╝рж╛ рж╕ржм |
| `teacher` | рж╢рж┐ржХрзНрж╖ржХ | рж╢рзБржзрзБ ржжрзЗржЦрж╛ |
| `operator` | ржЕржкрж╛рж░рзЗржЯрж░ | ржлрж┐ ржЖржжрж╛ржпрж╝ ржУ ржмрзЗрж╕рж┐ржХ |

## Route Protection:

### Admin Required:
- `/students/new` - ржирждрзБржи рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА
- `/teachers/new` - ржирждрзБржи рж╢рж┐ржХрзНрж╖ржХ
- `/fees/settings` - ржлрж┐ рж╕рзЗржЯрж┐ржВрж╕
- `/devices` - ржбрж┐ржнрж╛ржЗрж╕ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ
- `/settings/*` - рж╕ржм рж╕рзЗржЯрж┐ржВрж╕

### Operator Allowed:
- `/fees/collection` - ржлрж┐ ржЖржжрж╛ржпрж╝
- `/inventory` - ржЗржиржнрзЗржирзНржЯрж░рж┐
- `/attendance/*` - ржЙржкрж╕рзНржерж┐рждрж┐ ржжрзЗржЦрж╛

### Public (No Auth):
- `/monitor/gate` - ржЧрзЗржЯ ржоржирж┐ржЯрж░
- `/monitor/office` - ржЕржлрж┐рж╕ ржоржирж┐ржЯрж░

---

# рзн. ржлрж╛ржЗрж▓ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░

```
ЁЯУБ src/
тФЬтФАтФА ЁЯУД App.tsx                      # Main routing
тФЬтФАтФА ЁЯУД main.tsx                     # Entry point
тФЬтФАтФА ЁЯУД index.css                    # Global styles + Print CSS
тФВ
тФЬтФАтФА ЁЯУБ components/
тФВ   тФЬтФАтФА ЁЯУБ layout/
тФВ   тФВ   тФЬтФАтФА MainLayout.tsx          # Page wrapper with sidebar
тФВ   тФВ   тФЬтФАтФА Header.tsx              # Top header bar
тФВ   тФВ   тФФтФАтФА Sidebar.tsx             # Navigation sidebar
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ dashboard/
тФВ   тФВ   тФЬтФАтФА StatCard.tsx            # Stats display card
тФВ   тФВ   тФЬтФАтФА AttendanceChart.tsx     # Weekly chart
тФВ   тФВ   тФЬтФАтФА RecentActivity.tsx      # Activity feed
тФВ   тФВ   тФФтФАтФА QuickActions.tsx        # Quick action buttons
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ fees/
тФВ   тФВ   тФФтФАтФА ReceiptPrint.tsx        # A4 Receipt component
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ forms/
тФВ   тФВ   тФЬтФАтФА PhotoCapture.tsx        # Webcam photo capture
тФВ   тФВ   тФФтФАтФА RfidEnroll.tsx          # RFID card enrollment
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ monitor/
тФВ   тФВ   тФЬтФАтФА VideoPlayer.tsx         # Video player for gate
тФВ   тФВ   тФФтФАтФА NewsScroller.tsx        # News ticker
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ skeletons/
тФВ   тФВ   тФЬтФАтФА DashboardSkeleton.tsx
тФВ   тФВ   тФФтФАтФА TableSkeleton.tsx
тФВ   тФВ
тФВ   тФФтФАтФА ЁЯУБ ui/                      # Shadcn/UI components
тФВ       тФЬтФАтФА button.tsx
тФВ       тФЬтФАтФА card.tsx
тФВ       тФЬтФАтФА dialog.tsx
тФВ       тФЬтФАтФА table.tsx
тФВ       тФФтФАтФА ... (50+ components)
тФВ
тФЬтФАтФА ЁЯУБ hooks/
тФВ   тФЬтФАтФА ЁЯУД useAuth.tsx              # Authentication hook
тФВ   тФЬтФАтФА ЁЯУД useAcademicYear.tsx      # Active year context
тФВ   тФЬтФАтФА ЁЯУД use-mobile.tsx           # Mobile detection
тФВ   тФВ
тФВ   тФФтФАтФА ЁЯУБ queries/                 # React Query hooks
тФВ       тФЬтФАтФА useDashboardStats.ts
тФВ       тФЬтФАтФА useStudentsQuery.ts
тФВ       тФЬтФАтФА useTeachersQuery.ts
тФВ       тФЬтФАтФА useClassesQuery.ts
тФВ       тФЬтФАтФА useShiftsQuery.ts
тФВ       тФЬтФАтФА useFeeCollection.ts
тФВ       тФЬтФАтФА useFeesQuery.ts
тФВ       тФЬтФАтФА useFeeReports.ts
тФВ       тФЬтФАтФА useBulkFeeGeneration.ts
тФВ       тФЬтФАтФА useStudentFeeHistory.ts
тФВ       тФЬтФАтФА useStudentCustomFee.ts
тФВ       тФЬтФАтФА useInventory.ts
тФВ       тФЬтФАтФА useDocuments.ts
тФВ       тФЬтФАтФА useRecentActivity.ts
тФВ       тФЬтФАтФА useFeeDueSms.ts
тФВ       тФФтФАтФА useAppData.ts
тФВ
тФЬтФАтФА ЁЯУБ pages/
тФВ   тФЬтФАтФА ЁЯУД Index.tsx                # Dashboard
тФВ   тФЬтФАтФА ЁЯУД NotFound.tsx             # 404 page
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ auth/
тФВ   тФВ   тФФтФАтФА Login.tsx
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ students/
тФВ   тФВ   тФЬтФАтФА StudentList.tsx
тФВ   тФВ   тФЬтФАтФА StudentRegistration.tsx
тФВ   тФВ   тФЬтФАтФА StudentDetails.tsx
тФВ   тФВ   тФФтФАтФА StudentEdit.tsx
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ teachers/
тФВ   тФВ   тФЬтФАтФА TeacherList.tsx
тФВ   тФВ   тФЬтФАтФА TeacherRegistration.tsx
тФВ   тФВ   тФФтФАтФА TeacherEdit.tsx
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ attendance/
тФВ   тФВ   тФЬтФАтФА StudentAttendance.tsx
тФВ   тФВ   тФЬтФАтФА TeacherAttendance.tsx
тФВ   тФВ   тФФтФАтФА ManualEntry.tsx
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ monitor/
тФВ   тФВ   тФЬтФАтФА GateMonitor.tsx
тФВ   тФВ   тФФтФАтФА OfficeMonitor.tsx
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ fees/
тФВ   тФВ   тФЬтФАтФА FeeCollection.tsx       # POS style
тФВ   тФВ   тФЬтФАтФА FeeSettings.tsx
тФВ   тФВ   тФФтФАтФА FeeReports.tsx
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ inventory/
тФВ   тФВ   тФФтФАтФА InventoryManagement.tsx
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ reports/
тФВ   тФВ   тФЬтФАтФА Reports.tsx
тФВ   тФВ   тФФтФАтФА ЁЯУБ components/
тФВ   тФВ       тФЬтФАтФА ClassMonthlyReport.tsx
тФВ   тФВ       тФЬтФАтФА StudentMonthlyReport.tsx
тФВ   тФВ       тФЬтФАтФА TeacherMonthlyReport.tsx
тФВ   тФВ       тФФтФАтФА ReportHeader.tsx
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ devices/
тФВ   тФВ   тФФтФАтФА DeviceManagement.tsx
тФВ   тФВ
тФВ   тФФтФАтФА ЁЯУБ settings/
тФВ       тФЬтФАтФА Settings.tsx
тФВ       тФЬтФАтФА AcademicYear.tsx
тФВ       тФЬтФАтФА Shifts.tsx
тФВ       тФЬтФАтФА Classes.tsx
тФВ       тФЬтФАтФА Sections.tsx
тФВ       тФЬтФАтФА SchoolCalendar.tsx
тФВ       тФЬтФАтФА DocumentSettings.tsx
тФВ       тФЬтФАтФА SmsSettings.tsx
тФВ       тФФтФАтФА MonitorSettings.tsx
тФВ
тФЬтФАтФА ЁЯУБ integrations/supabase/
тФВ   тФЬтФАтФА client.ts                   # Supabase client (auto-generated)
тФВ   тФФтФАтФА types.ts                    # Database types (auto-generated)
тФВ
тФЬтФАтФА ЁЯУБ lib/
тФВ   тФФтФАтФА utils.ts                    # Utility functions (cn, etc.)
тФВ
тФФтФАтФА ЁЯУБ types/
    тФФтФАтФА index.ts                    # Shared TypeScript types

ЁЯУБ supabase/
тФЬтФАтФА ЁЯУД config.toml                  # Supabase configuration
тФВ
тФФтФАтФА ЁЯУБ functions/
    тФЬтФАтФА ЁЯУБ process-punch/
    тФВ   тФФтФАтФА index.ts
    тФЬтФАтФА ЁЯУБ send-sms/
    тФВ   тФФтФАтФА index.ts
    тФЬтФАтФА ЁЯУБ sync-device/
    тФВ   тФФтФАтФА index.ts
    тФФтФАтФА ЁЯУБ create-super-admin/
        тФФтФАтФА index.ts

ЁЯУБ docs/
тФФтФАтФА ЁЯУД DOCUMENTATION.md             # This file
```

---

# рзо. ржмрж┐рж╢рзЗрж╖ ржлрж┐ржЪрж╛рж░рж╕ржорзВрж╣

## рзо.рзз POS рж╕рзНржЯрж╛ржЗрж▓ ржлрж┐ ржХрж╛рж▓рзЗржХрж╢ржи
- тЬЕ RFID/ID ржжрж┐ржпрж╝рзЗ рж╕рж╛рж░рзНржЪ ржХрж░рж▓рзЗржЗ POS ржнрж┐ржЙ ржУржкрзЗржи
- тЬЕ ржорж╛рж╕рж┐ржХ ржлрж┐ + ржЕржирзНржпрж╛ржирзНржп ржлрж┐ + ржкржгрзНржп ржПржХрж╕рж╛ржерзЗ рж╕рж┐рж▓рзЗржХрзНржЯ
- тЬЕ рж╢ржкрж┐ржВ ржХрж╛рж░рзНржЯ рж╕рж┐рж╕рзНржЯрзЗржо
- тЬЕ ржПржХржХ рж░рж┐рж╕рж┐ржкрзНржЯрзЗ рж╕ржм ржЖржЗржЯрзЗржо

## рзо.рзи ржЗржиржнрзЗржирзНржЯрж░рж┐ ржЗржирзНржЯрж┐ржЧрзНрж░рзЗрж╢ржи
- тЬЕ Fee Collection ржерзЗржХрзЗ ржкржгрзНржп ржмрж┐ржХрзНрж░ржпрж╝
- тЬЕ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ рж╕рзНржЯржХ ржЖржкржбрзЗржЯ (DB Trigger)

## рзо.рзй SMS/WhatsApp ржЕржЯрзЛржорзЗрж╢ржи
- тЬЕ ржкрж╛ржЮрзНржЪрзЗ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ SMS
- тЬЕ ржмрж┐рж▓ржорзНржмрзЗ SMS
- тЬЕ ржЕржирзБржкрж╕рзНржерж┐рждрж┐рждрзЗ SMS
- тЬЕ ржлрж┐ ржмржХрзЗржпрж╝рж╛ SMS (Bulk)
- тЬЕ WhatsApp Fallback

## рзо.рзк ржХрж╛рж╕рзНржЯржо ржлрж┐ рж╕рж┐рж╕рзНржЯрзЗржо
- тЬЕ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА ржнрж┐рждрзНрждрж┐ржХ ржХрж╛рж╕рзНржЯржо ржорж╛рж╕рж┐ржХ ржлрж┐
- тЬЕ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА ржнрж┐рждрзНрждрж┐ржХ ржХрж╛рж╕рзНржЯржо ржнрж░рзНрждрж┐ ржлрж┐
- тЬЕ Effective Date рж╕рж╛ржкрзЛрж░рзНржЯ

## рзо.рзл Late Fine ржЕржЯрзЛржорзЗрж╢ржи
- тЬЕ Due Date ржЕрждрж┐ржХрзНрж░ржо ржХрж░рж▓рзЗ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ ржЬрж░рж┐ржорж╛ржирж╛
- тЬЕ Enable/Disable ржЕржкрж╢ржи
- тЬЕ ржХрж╛рж╕рзНржЯржо ржЬрж░рж┐ржорж╛ржирж╛ ржкрж░рж┐ржорж╛ржг

## рзо.рзм рж░рж┐ржкрзЛрж░рзНржЯрж┐ржВ
- тЬЕ рж╢рзНрж░рзЗржгрзА/рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА/рж╢рж┐ржХрзНрж╖ржХ ржЙржкрж╕рзНржерж┐рждрж┐ рж░рж┐ржкрзЛрж░рзНржЯ
- тЬЕ ржлрж┐ ржЖржжрж╛ржпрж╝ рж░рж┐ржкрзЛрж░рзНржЯ
- тЬЕ Defaulter List
- тЬЕ PDF Export (Browser Print)

---

# рзп. Database Functions

| ржлрж╛ржВрж╢ржи | ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ | рж░рж┐ржЯрж╛рж░рзНржи | ржмрж┐ржмрж░ржг |
|--------|------------|---------|--------|
| `get_dashboard_stats` | academic_year_id, date | JSON | ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб ржкрж░рж┐рж╕ржВржЦрзНржпрж╛ржи |
| `get_working_days_count` | academic_year_id, class_id, start_date, end_date | number | ржХрж╛рж░рзНржпржжрж┐ржмрж╕ рж╕ржВржЦрзНржпрж╛ |
| `is_working_day` | academic_year_id, class_id, date | boolean | ржжрж┐ржиржЯрж┐ ржХрж╛рж░рзНржпржжрж┐ржмрж╕ ржХрж┐ржирж╛ |
| `has_role` | user_id, role | boolean | ржЗржЙржЬрж╛рж░ рж░рзЛрж▓ ржЪрзЗржХ |
| `has_any_role` | user_id | boolean | ржХрзЛржирзЛ рж░рзЛрж▓ ржЖржЫрзЗ ржХрж┐ржирж╛ |
| `is_admin` | user_id | boolean | ржЕрзНржпрж╛ржбржорж┐ржи ржХрж┐ржирж╛ |

---

# рззрзж. API Endpoints (Edge Functions)

## Base URL
```
https://bxavfvznpfugnkjakygl.supabase.co/functions/v1
```

## Endpoints

### POST `/process-punch`
```json
// Request
{
  "card_number": "1234567890",
  "device_id": "optional-uuid"
}

// Response
{
  "success": true,
  "person_type": "student",
  "person": {
    "id": "uuid",
    "name": "рж░рж╛рж╣рж┐ржо",
    "name_bn": "рж░рж╛рж╣рж┐ржо",
    "class": { "name": "Five", "name_bn": "ржкржЮрзНржЪржо" },
    "section": { "name": "A" },
    "photo_url": "https://..."
  },
  "status": "present",
  "punch_time": "08:30:00"
}
```

### POST `/send-sms`
```json
// Request
{
  "mobile": "01712345678",
  "message": "ржЖржкржирж╛рж░ рж╕ржирзНрждрж╛ржи рж╕рзНржХрзБрж▓рзЗ ржПрж╕рзЗржЫрзЗ",
  "sms_type": "punch",
  "student_id": "uuid"
}

// Response
{
  "success": true,
  "channel": "sms",
  "message_id": "msg_123"
}
```

---

# рззрзз. ржнржмрж┐рж╖рзНржпржд ржлрж┐ржЪрж╛рж░ (ржкрж░рж┐ржХрж▓рзНржкржирж╛)

- [ ] Student/Teacher Export (Excel/PDF)
- [ ] Bulk Student Import (CSV/Excel)
- [ ] Parent Portal (App/Web)
- [ ] Exam Result Management
- [ ] Library Management
- [ ] Transport Management
- [ ] Annual Fee Statement PDF
- [ ] Multi-School Support
- [ ] Biometric Integration
- [ ] Mobile App (React Native)

---

# рззрзи. рж╕рж╛ржкрзЛрж░рзНржЯ

**ржбрзЗржнрзЗрж▓ржкрж╛рж░:** Jubair Zaman  
**ржкрзНрж░ржЬрзЗржХрзНржЯ:** ржЖржорж╛рж░ рж╣рж╛ржЬрж┐рж░рж╛ (Amar Hajira)  
**рж▓рж╛ржЗрж╕рзЗржирзНрж╕:** Proprietary

---

*ржПржЗ ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи рж╕рж░рзНржмрж╢рзЗрж╖ ржЖржкржбрзЗржЯ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ: ржЬрж╛ржирзБржпрж╝рж╛рж░рж┐ рзирзжрзирзм*
